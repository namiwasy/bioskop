<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="topnav">
        <img src="../component/logo.png" alt="logo" class="logo">
        <a class="active" href="index.html"> Home</a>
        <a href="#orders"> My orders</a>
        <a href="#Promo"> Promos </a>
        <a href="#account"> My m.tix</a>
        <div class="right-text">M.tix by miwa gemsy</div>
        <div style="padding-left: 16%"></div>
    </div>
    <div class="top text">
        <p>Payment üíµ</p>
    </div>

    <body>

        <div class="container">
            <!-- Form Pemesanan -->
            <div class="form-container">
                <h2>Form Pemesanan Tiket</h2>

                <form id="formPemesanan">
                    <label for="nama">Nama Pemesan:</label>
                    <input type="text" id="nama" placeholder="Masukkan nama">
                    <div id="errorNama" class="error"></div>

                    <label for="email">Email:</label>
                    <input type="text" id="email" placeholder="contoh@email.com">
                    <div id="errorEmail" class="error"></div>

                    <label for="film">Judul Film:</label>
                    <input type="text" id="film" placeholder="Nama film">

                    <label for="jumlah">Jumlah Tiket :</label>
                    <input type="number" id="jumlah" min="1" max="10" value="1">
                    <div id="errorJumlah" class="error"></div>

                    <label for="tanggal">Tanggal Nonton :</label>
                        <input type="date" id="tanggal">

                        <label for="waktu">Waktu Nonton :</label>
                        <select id="waktu">
                            <option>    10:00 AM</option>
                            <option>1:00 PM</option>
                            <option>4:00 PM</option>
                            <option>7:00 PM</option>
                        </select>




                        <button type="submit">Pesan Sekarang!</button>
                </form>
            </div>


            <script>
                const form = document.getElementById("formPemesanan");
                const nama = document.getElementById("nama");
                const email = document.getElementById("email");
                const film = document.getElementById("film");
                const jumlah = document.getElementById("jumlah");



                function setError(element, message) {
                    const errorElement = document.getElementById("error" + element.id.charAt(0).toUpperCase() + element.id.slice(1));
                    if (errorElement) {
                        errorElement.textContent = message;
                    }
                }


                function clearErrors() {

                    setError(nama, "");
                    setError(email, "");
                    setError(jumlah, "");

                }

                form.addEventListener("submit", function (e) {
                    e.preventDefault();

                    let valid = true;
                    clearErrors();

                    // 1. Validasi Nama
                    if (nama.value.trim() === "") {
                        setError(nama, "Nama tidak boleh kosong. ‚ö†Ô∏è");
                        valid = false;
                    }

                    // 2. Validasi Email (menggunakan Regular Expression yang lebih baik)

                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email.value)) {
                        setError(email, "Email harus dalam format yang benar. üìß");
                        valid = false;
                    }


                    const qty = parseInt(jumlah.value);
                    if (isNaN(qty) || qty < 1 || qty > 10) {
                        setError(jumlah, "Jumlah tiket minimal 1 dan maksimal 10. üéüÔ∏è");
                        valid = false;
                    }


                    if (valid) {
                        alert("‚úÖ Pemesanan berhasil! Terima kasih telah memesan tiket.");

                    }
                });
            </script>


            <!-- Card Gambar -->
            <div class="card card-gambar">
                <img src="../component/Legally Blonde.jpg" alt="Legally blonde">
                <h3>Legally blonde</h3>
                <p>Check out Legally blonde now showing in cinemas near you. Book your tickets easily online right here
                    on M.tix!</p>
            </div>
        </div>
    </body>

</html>